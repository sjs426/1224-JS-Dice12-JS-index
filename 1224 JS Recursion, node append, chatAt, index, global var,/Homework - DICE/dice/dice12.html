<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rolling 12 dice</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <p>
        <img id="die1" src="./die1.png" alt="die 1 image">
        <img id="die2" src="./die1.png" alt="die 2 image">
        <img id="die3" src="./die1.png" alt="die 3 image">
        <img id="die4" src="./die1.png" alt="die 4 image">
        <img id="die5" src="./die1.png" alt="die 5 image">
        <img id="die6" src="./die1.png" alt="die 6 image">
    </p>
    <p>
        <img id="die7" src="./die1.png" alt="die 7 image">
        <img id="die8" src="./die1.png" alt="die 8 image">
        <img id="die9" src="./die1.png" alt="die 9 image">
        <img id="die10" src="./die1.png" alt="die 10 image">
        <img id="die11" src="./die1.png" alt="die 11 image">
        <img id="die12" src="./die1.png" alt="die 12 image">
    </p>

    <form action="#">
        <!-- # symbol represents the current page. so refresh -->
        <input id="rollButton" type="button" value="Roll Dice">
    </form>
    <div id="frequencyTableDiv"></div>

    <script>
        let totalDice = 0;
        let frequency1 = 0;
        let frequency2 = 0; 
        let frequency3 = 0; 
        let frequency4 = 0; 
        let frequency5 = 0; 
        let frequency6 = 0; 

        function start() {
            let button = document.getElementById("rollButton");
            button.addEventListener("click", rollDice, false);
        } // end function start , id가 하나만 가능한 것은 이럴 때 쓰이기 위해이다.

        // roll the dice => 이미지를 reset 한다.
        // setImage는 for 이랑 비슷한 느낌.
        function rollDice() {
            let face; // face rolled 

            for (let i = 1; i <= 12; ++i) {// loop to roll die 12 times 
                face = Math.floor(1 + Math.random() * 6); // 6개 인 이유는 die1~ die6까지 사진이 있기 때문
                setImage(i, face); // display appropriate die image
                tallyRolls(face); // increment a frequency counter
                ++totalDice; // increment total
            } // end rolling loop

            updateFrequencyTable();
        }

        // setAttributue가 위의 속성을 replace 해준다.
        // 여기서 setImage(변수)를 넣어서 하나씩 돌아가게 만든다.
        function setImage(dieNumber, face) {
            // change the src attribute to the new pic
            let ImgBlock = document.getElementById("die" + dieNumber);
            ImgBlock.setAttribute("src", "die" + face + ".png");
        } // end function setImage

        // increment appropriate frequency counter
        function tallyRolls(face) {
            switch (face) {
                case 1:
                    ++frequency1;
                    break;
                case 2:
                    ++frequency2;
                    break;
                case 3:
                    ++frequency3;
                    break;
                case 4:
                    ++frequency4;
                    break;
                case 5:
                    ++frequency5;
                    break;
                case 6:
                    ++frequency6;
                    break;
            }
        }

        console.log(typeof "frequency1");
        console.log(typeof "totalDice");
        console.log(totalDice);

         // end switch , if-else loop also can be used.
        // end function tallyRolls

        // update frequency table in the page
        function updateFrequencyTable() {
            let tableDiv = document.getElementById("frequencyTableDiv");

            tableDiv.innerHTML = "<table>" +
                "<caption>Die Rolling Frequencies</caption>" +
                "<thead><th>Face</th><th>Frequency</th>" +
                "<th>Precent</th></thead>" +
                "<tbody><tr> <td>1</td> <td>" + frequency1 + "</td> <td>" + Math.floor((frequency1 / totalDice) * 100) + "%" + "</td> </tr>" +
                "<tbody><tr> <td>2</td> <td>" + frequency2 + "</td> <td>" + Math.floor((frequency2 / totalDice) * 100) + "%" + "</td> </tr>" +
                "<tbody><tr> <td>3</td> <td>" + frequency3 + "</td> <td>" + Math.floor((frequency3 / totalDice) * 100) + "%" + "</td> </tr>" +
                "<tbody><tr> <td>4</td> <td>" + frequency4 + "</td> <td>" + Math.floor((frequency4 / totalDice) * 100) + "%" + "</td> </tr>" +
                "<tbody><tr> <td>5</td> <td>" + frequency5 + "</td> <td>" + Math.floor((frequency5 / totalDice) * 100) + "%" + "</td> </tr>" +
                "<tbody><tr> <td>6</td> <td>" + frequency6 + "</td> <td>" + Math.floor((frequency6 / totalDice) * 100) + "%" + "</td> </tr>" +
                "</tbody></table>";
        } // end function updaateFrequencyTable

        // 밑에 load 없으면 작동안한다. 페이지가 refresh 될 때 작동하라라는 것.  load: occurs when an object has loaded
        window.addEventListener("load", start, false);
    </script>
    <!-- 

                        switch (face) {
                case 1:
                    frequency1 = frequency + 1;
                    break;
                case 2:
                    frequency2 = frequency + 1;
                    break;
                case 3:
                    frequency3 = frequency + 1;
                    break;
                case 4:
                    frequency4 = frequency + 1;
                    break;
                case 5:
                    frequency5 = frequency + 1;
                    break;
                case 6:
                    frequency6 = frequency + 1;
                    break;
            }


            if (face==1) {
                frequency1 = frequency + 1;
            } else if (face==2){
                frequency2 = frequency + 1;
            } else if (face==3){
                frequency3 = frequency + 1;
            } else if (face==4){
                frequency4 = frequency + 1;
            } else if (face==5){
                frequency5 = frequency + 1;
            } else {
                frequency6 = frequency + 1;
            }

        -->
</body>

</html>